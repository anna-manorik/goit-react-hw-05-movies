"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[689],{689:function(e,t,r){r.r(t),r.d(t,{default:function(){return h}});var n=r(982),a=r(861),i=r(885),o=r(757),c=r.n(o),u=r(791),s=r(871),l=r(504),f=r(184);function h(){var e=(0,u.useState)(""),t=(0,i.Z)(e,2),r=t[0],o=t[1],h=(0,u.useState)([]),m=(0,i.Z)(h,2),p=m[0],d=m[1],y=(0,s.s0)(),b=(0,s.TH)();function v(){return(v=(0,a.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://api.themoviedb.org/3/search/movie?api_key=893305900bfa999f02bdcec91556216a&query=".concat(r),e.next=3,fetch(t).then((function(e){return e.json()})).then((function(e){d((0,n.Z)(e.results)),y({search:(0,l.fW)({query:"".concat(r)}).toString()})}));case 3:e.sent;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,u.useEffect)((function(){p.length>0&&localStorage.setItem("searchFilmList",JSON.stringify(p))}),[p]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("p",{children:"Film Search"}),(0,f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(){v.apply(this,arguments)}()},children:[(0,f.jsx)("input",{placeholder:"Enter film name",onChange:function(e){return o(e.currentTarget.value)}}),(0,f.jsx)("button",{type:"submit",children:"Search"})]}),(0,f.jsx)("ul",{children:localStorage.getItem("searchFilmList")&&""!==b.search?JSON.parse(localStorage.getItem("searchFilmList")).map((function(e){var t=e.id,r=e.title;return(0,f.jsx)("li",{children:(0,f.jsx)(l.rU,{to:"/movies/".concat(t),children:r})},t)})):null})]})}},982:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(907);var a=r(181);function i(e){return function(e){if(Array.isArray(e))return(0,n.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=689.97ae45ce.chunk.js.map