{"version":3,"file":"static/js/689.ecbadea1.chunk.js","mappings":"wQAQe,SAASA,IACtB,OAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA4CF,EAAAA,EAAAA,UAAS,IAArD,eAAOG,EAAP,KAAuBC,EAAvB,KACMC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MAJkB,wCAMnC,2FACQC,EADR,mGAC0GR,GAD1G,SAGyBS,MAAMD,GAC1BE,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GACJV,GAAkB,OAAIU,EAAMC,UAE5BV,EAAS,CACPW,QAAQC,EAAAA,EAAAA,IAAmB,CACzBC,MAAM,GAAD,OAAKjB,KACTkB,gBAXX,0DANmC,sBAoCnC,OANAC,EAAAA,EAAAA,YAAU,WACJjB,EAAekB,OAAS,GAC1BC,aAAaC,QAAQ,iBAAkBC,KAAKC,UAAUtB,MAEvD,CAACA,KAGF,iCACE,wCACA,kBAAMuB,SAfW,SAAAC,GACnBA,EAAEC,iBAzB+B,mCA2BjCC,IAYE,WACE,kBAAOC,YAAY,kBAAkBC,SAlBtB,SAAAJ,GAAC,OAAIzB,EAASyB,EAAEK,cAAcC,WAmB7C,mBAAQC,KAAK,SAAb,wBAGF,wBACGZ,aAAaa,QAAQ,mBAAyC,KAApB5B,EAASS,OAChDQ,KAAKY,MAAMd,aAAaa,QAAQ,mBAAmBE,KACjD,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAP,OACE,yBACE,SAAC,KAAD,CAAMC,GAAIC,2BAAA,kBAAoCH,GAA9C,SAAqDC,KAD9CD,MAKb,Y,8ECzDG,SAASI,EAAmBC,GACzC,OCJa,SAA4BA,GACzC,GAAIC,MAAMC,QAAQF,GAAM,OAAO,EAAAG,EAAA,GAAiBH,GDGzC,CAAkBA,IELZ,SAA0BI,GACvC,GAAsB,qBAAXC,QAAmD,MAAzBD,EAAKC,OAAOC,WAA2C,MAAtBF,EAAK,cAAuB,OAAOH,MAAMM,KAAKH,GFInF,CAAgBJ,KAAQ,EAAAQ,EAAA,GAA2BR,IGLvE,WACb,MAAM,IAAIS,UAAU,wIHIwE","sources":["components/FilmSearch/FilmSearch.js","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Link,\r\n  useLocation,\r\n  useNavigate,\r\n  createSearchParams,\r\n} from 'react-router-dom';\r\n\r\nexport default function FilmSearch() {\r\n  const [input, setInput] = useState('');\r\n  const [searchFilmList, setSearchFilmList] = useState([]);\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  async function fetchAPI() {\r\n    const URL = `https://api.themoviedb.org/3/search/movie?api_key=893305900bfa999f02bdcec91556216a&query=${input}`;\r\n\r\n    const filmsApi = await fetch(URL)\r\n      .then(responce => responce.json())\r\n      .then(films => {\r\n        setSearchFilmList([...films.results]);\r\n\r\n        navigate({\r\n          search: createSearchParams({\r\n            query: `${input}`,\r\n          }).toString(),\r\n        });\r\n      });\r\n  }\r\n\r\n  const handleChange = e => setInput(e.currentTarget.value);\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    fetchAPI();\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (searchFilmList.length > 0) {\r\n      localStorage.setItem('searchFilmList', JSON.stringify(searchFilmList));\r\n    }\r\n  }, [searchFilmList]);\r\n\r\n  return (\r\n    <>\r\n      <p>Film Search</p>\r\n      <form onSubmit={handleSubmit}>\r\n        <input placeholder=\"Enter film name\" onChange={handleChange}></input>\r\n        <button type=\"submit\">Search</button>\r\n      </form>\r\n\r\n      <ul>\r\n        {localStorage.getItem('searchFilmList') && location.search !== ''\r\n          ? JSON.parse(localStorage.getItem('searchFilmList')).map(\r\n              ({ id, title }) => (\r\n                <li key={id}>\r\n                  <Link to={process.env.PUBLIC_URL + `/movies/${id}`}>{title}</Link>\r\n                </li>\r\n              )\r\n            )\r\n          : null}\r\n      </ul>\r\n    </>\r\n  );\r\n}\r\n","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"names":["FilmSearch","useState","input","setInput","searchFilmList","setSearchFilmList","navigate","useNavigate","location","useLocation","URL","fetch","then","responce","json","films","results","search","createSearchParams","query","toString","useEffect","length","localStorage","setItem","JSON","stringify","onSubmit","e","preventDefault","fetchAPI","placeholder","onChange","currentTarget","value","type","getItem","parse","map","id","title","to","process","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray","TypeError"],"sourceRoot":""}